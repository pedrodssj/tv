<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Player em Tela Cheia</title>
<style>
    body, html {
        margin: 0;
        padding: 0;
        height: 100%;
        overflow: hidden;
    }
    #video {
        width: 100vw;
        height: 100vh;
        object-fit: cover;
    }
</style>
</head>
<body>

<video id="video" controls></video>

<script>
    var videoSrc = 'https://server11.net/globo-news/tracks-v1a1/mono.m3u8?remote=168.228.200.8&token=dbed0bfc7734dfc3ae4445d6b380ed603db9e7f7-413af25ab9278e2b801c5d5004feebbc-1708531321-1708524121';
    var scripts = [
        'https://cdn.jsdelivr.net/npm/hls.js@latest', // HLS.js
        'https://cdn.dashjs.org/latest/dash.all.min.js', // DASH.js
        'https://unpkg.com/video.js@latest', // Video.js
        'https://cdn.plyr.io/3.6.12/plyr.js', // Plyr
        'https://cdnjs.cloudflare.com/ajax/libs/shaka-player/3.0.10/shaka-player.compiled.js', // Shaka Player
        // Mais bibliotecas podem ser adicionadas aqui, mas note que nem todas serão usadas para reprodução de M3U8
    ];    

    function loadScript(index) {
        if (index >= scripts.length) {
            console.error('Todos os scripts falharam ao carregar.');
            return;
        }

        var script = document.createElement('script');
        script.src = scripts[index];
        script.onload = function() {
            console.log(scripts[index] + ' carregado com sucesso.');
            initializeVideoPlayer(scripts[index]);
        };
        script.onerror = function() {
            console.error(scripts[index] + ' falhou ao carregar.');
            loadScript(index + 1);
        };
        document.head.appendChild(script);
    }

    function initializeVideoPlayer(loadedScript) {
        console.log('Inicializando o player de vídeo com a biblioteca carregada: ' + loadedScript);
        if (loadedScript.includes('hls.js')) {
            if (typeof Hls !== 'undefined' && Hls.isSupported()) {
                var hls = new Hls({
                    maxBufferLength: 60,
                    maxMaxBufferLength: 60,
                });
                hls.loadSource(videoSrc);
                hls.attachMedia(video);
                hls.on(Hls.Events.MANIFEST_PARSED, function() {
                    video.play();
                });
            }
        }
    }

    loadScript(0);
</script>

</body>
</html>
