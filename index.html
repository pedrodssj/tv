<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Player em Tela Cheia</title>
<style>
    body, html {
        margin: 0;
        padding: 0;
        height: 100%;
        overflow: hidden;
    }
    #video {
        width: 100vw;
        height: 100vh;
        object-fit: cover;
    }
</style>
</head>
<body>

<video id="video" controls></video>

<script>
    var videoSrc = 'https://server11.net/globo-news/tracks-v1a1/mono.m3u8?remote=168.228.202.147&token=4f0cd921332c0cb3ecc43e312365ceef0d8aeeb4-5f5e153f1b3a62bc712de3b9df344c06-1707876139-1707868939';
    var scripts = [
        'https://cdn.jsdelivr.net/npm/hls.js@latest', // HLS.js
        'https://cdn.dashjs.org/latest/dash.all.min.js', // DASH.js
        'https://unpkg.com/video.js@latest', // Video.js
        'https://cdn.plyr.io/3.6.12/plyr.js', // Plyr
        'https://cdnjs.cloudflare.com/ajax/libs/shaka-player/3.0.10/shaka-player.compiled.js', // Shaka Player
        // Mais bibliotecas podem ser adicionadas aqui, mas note que nem todas serão usadas para reprodução de M3U8
    ];

    function loadScript(index) {
        if (index >= scripts.length) {
            console.error('Todos os scripts falharam ao carregar.');
            return;
        }

        var script = document.createElement('script');
        script.src = scripts[index];
        script.onload = function() {
            console.log(scripts[index] + ' carregado com sucesso.');
            // Inicializar player baseado no script que carregou com sucesso
            initializeVideoPlayer(scripts[index]);
        };
        script.onerror = function() {
            console.error(scripts[index] + ' falhou ao carregar.');
            loadScript(index + 1); // Tenta o próximo script
        };
        document.head.appendChild(script);
    }

    function initializeVideoPlayer(loadedScript) {
        // Aqui você determinaria qual player usar com base no script carregado
        // Esta é uma lógica simplificada e precisaria ser expandida
        console.log('Inicializando o player de vídeo com a biblioteca carregada: ' + loadedScript);
        // Exemplo: se HLS.js carregou, inicialize o player com HLS.js
        if (loadedScript.includes('hls.js')) {
            if (typeof Hls !== 'undefined' && Hls.isSupported()) {
                var hls = new Hls();
                hls.loadSource(videoSrc);
                hls.attachMedia(video);
                hls.on(Hls.Events.MANIFEST_PARSED, function() {
                    video.play();
                });
            }
        }
        // Adicionar condições semelhantes para outras bibliotecas carregadas com sucesso
    }

    loadScript(0); // Inicia tentando carregar o primeiro script
</script>

</body>
</html>
